let hideControlsTimeout,hasInteracted=!1;function togglePlay(){const e=document.getElementById("backgroundVideo"),t=document.getElementById("playButton"),o=document.getElementById("playIcon"),n=document.getElementById("buttonText"),d=document.querySelector(".portfolio__controls");if(e&&t&&o&&n&&d)if(e.paused){const t=e.play();void 0!==t&&t.then((()=>{o.innerHTML='<path d="M0 1C0 0.447716 0.447715 0 1 0H5C5.55228 0 6 0.447715 6 1V23C6 23.5523 5.55228 24 5 24H1C0.447715 24 0 23.5523 0 23V1Z" class="fill-current"/><path d="M10 1C10 0.447716 10.4477 0 11 0H15C15.5523 0 16 0.447715 16 1V23C16 23.5523 15.5523 24 15 24H11C10.4477 24 10 23.5523 10 23V1Z" class="fill-current"/>',n.innerText="Pause",hideControlsIfPlaying()})).catch((e=>{console.log("Video play failed:",e),n.innerText="Play"}))}else e.pause(),o.innerHTML='<path d="M15.4353 10.8295L1.80706 0.23623C1.06251 -0.342509 0 0.208084 0 1.17265V22.8274C0 23.7919 1.06251 24.3425 1.80706 23.7638L15.4353 13.1705C16.1882 12.5853 16.1882 11.4147 15.4353 10.8295Z" class="fill-current" />',n.innerText="Play"}function hideControlsIfPlaying(){const e=document.getElementById("backgroundVideo"),t=document.querySelector(".portfolio__controls");e&&t&&(e.paused||e.muted||t.classList.add("opacity-0"))}function showControls(){const e=document.querySelector(".portfolio__controls");e&&(e.classList.remove("opacity-0"),clearTimeout(hideControlsTimeout),hideControlsTimeout=setTimeout((()=>{hideControlsIfPlaying()}),3e3))}function toggleMute(){const e=document.getElementById("backgroundVideo"),t=document.getElementById("muteIcon"),o=document.getElementById("muteText"),n=document.querySelector(".portfolio__controls");e&&t&&o&&n&&(e.muted=!e.muted,hasInteracted=!0,e.muted?(t.innerHTML='<path d="M16 9a5 5 0 0 1 .95 2.293"/><path d="M19.364 5.636a9 9 0 0 1 1.889 9.96"/><path d="m2 2 20 20"/><path d="m7 7-.587.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298V11"/><path d="M9.828 4.172A.686.686 0 0 1 11 4.657v.686"/>',o.innerText="Unmute",n.classList.remove("opacity-0")):(t.innerHTML='<path d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"/><path d="M16 9a5 5 0 0 1 0 6"/><path d="M19.364 18.364a9 9 0 0 0 0-12.728"/>',o.innerText="Mute",hideControlsIfPlaying()))}document.getElementById("backgroundVideo")?.addEventListener("click",showControls),document.addEventListener("visibilitychange",(()=>{const e=document.getElementById("backgroundVideo");e&&(document.hidden?e.pause():hasInteracted||e.play().catch((e=>console.log("Auto-play failed on visibility change:",e))))}));