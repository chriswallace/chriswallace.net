function fadeInElements(){let e=0;const t=document.querySelectorAll(".fade-in-element:not(.visible)");!function(e,t=66){if(!e||"function"!=typeof e)return;let n;window.addEventListener("scroll",(function(o){window.clearTimeout(n),n=setTimeout(e,t)}),!1)}((function(){e=0}));const n=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const o=50*e;((e,t)=>{setTimeout((()=>{e.classList.add("visible"),e.addEventListener("transitionend",(()=>{e.classList.remove("fade-in-element")}))}),t)})(t.target,o),n.unobserve(t.target),e++}}))}));t.forEach((e=>n.observe(e))),Splitting()}function startGSAPAnimations(){document.querySelectorAll(".text-container").forEach((e=>{const t={section:e,get chars(){return this.section.querySelectorAll(".text-paragraph .word > .char, .whitespace")},isVisible:!0},n=.014,o=.5;gsap.timeline({paused:!0}).addLabel("start").to(".infinite-scroller",{duration:0,onComplete:()=>{document.querySelectorAll("img").forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("notready"),e.classList.add("ready")}),50*t)}))}}).from(t.chars,{duration:o,ease:"Power3.easeInOut",y:"105%",stagger:n}).addLabel("switchtime").play()}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("menu-button"),t=document.getElementById("navigation-items");e.addEventListener("click",(()=>{document.body.classList.toggle("open-menu")})),document.addEventListener("click",(n=>{e.contains(n.target)||t.contains(n.target)||document.body.classList.contains("open-menu")&&document.body.classList.remove("open-menu")}))})),document.addEventListener("DOMContentLoaded",(()=>{document.fonts.ready.then((()=>{document.querySelectorAll(".hidden-until-loaded").forEach((e=>{e.classList.remove("hidden-until-loaded")})),fadeInElements(),startGSAPAnimations()}))}));const imgObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;replaceImageWithVideo(n),setSrcSetAndSizes(n),t.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),replaceImageWithVideo=e=>{const t=e.getAttribute("data-video");if(t){const n=document.createElement("video");n.src=t,n.style.objectFit="cover",n.setAttribute("playsinline",""),n.setAttribute("muted",""),n.playbackRate=1,n.addEventListener("ended",(()=>n.pause()));const o=e.closest(".media-wrapper");o&&(e.replaceWith(n),o.addEventListener("transitionend",(()=>{n.play()})))}},setSrcSetAndSizes=e=>{const t=e.clientWidth,n="https://ik.imagekit.io/UltraDAO/wallace/",o=e.src.split("/").pop().split("?")[0],s=e.getAttribute("data-max-width");if(s&&s<=t)e.src=`${n}${o}?tr=q-70`;else{let i=t,l=2*t,r=3*t,a=4*t;s&&(i=Math.min(s,i),l=Math.min(s,l),r=Math.min(s,r),a=Math.min(s,a));const c=`${n}${o}?tr=w-${i},q-70 1x,\n                            ${n}${o}?tr=w-${l},q-70 2x,\n                            ${n}${o}?tr=w-${r},q-70 3x`,d=`(max-width: 400px) ${i}px,\n                        (max-width: 800px) ${l}px,\n                        (max-width: 1200px) ${r}px,\n                        ${a}px`;e.src=`${n}${o}?tr=w-${i},q-70`,e.srcset=c,e.sizes=d}e.classList.add("loaded")},cardObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;setBackground(n),t.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),setBackground=e=>{const t=e.clientWidth,n=window.devicePixelRatio||1,o=e.style.backgroundImage,[s,i]=o.slice(5,-2).split("?"),l=`${s}?tr=w-${Math.round(t*n)},q-70`;e.style.backgroundImage=`url("${l}")`,e.classList.add("loaded")};document.querySelectorAll(".bg-image-card").forEach((e=>{cardObserver.observe(e)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".zoomable");let t=null,n={};function o(e){const t=n[e];e.style.transition="all 0.3s ease",e.style.top=`${t.top}px`,e.style.left=`${t.left}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform="none",setTimeout((()=>{e.classList.remove("zoom-fullscreen"),e.style.zIndex="1",e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.height="",e.style.transform="",document.body.style.overflow=""}),300)}e.forEach((e=>{e.addEventListener("click",(function(){const s=e.classList.contains("zoom-fullscreen"),i=e.getAttribute("data-type");s?(document.body.classList.remove("zoom-active"),o(e),"video"===i&&(e.muted=!0)):(t||(t=document.createElement("div"),t.className="page-overlay",document.body.appendChild(t)),document.body.classList.add("zoom-active"),function(e){const t=function(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}}(e);n[e]=t;const o=.9*window.innerWidth,s=.9*window.innerHeight,{width:i,height:l}=function(e,t){const n=4/3;return e/t>n?e=t*n:t=e/n,{width:e,height:t}}(o,s);e.style.position="fixed",e.style.top=`${t.top}px`,e.style.left=`${t.left}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.zIndex="9999",requestAnimationFrame((()=>{e.classList.add("zoom-fullscreen"),e.style.top="50%",e.style.left="50%",e.style.width=`${i}px`,e.style.height=`${l}px`,e.style.transform="translate(-50%, -50%)"}))}(e),document.body.style.overflow="hidden","video"===i&&(e.muted=!1,e.play()))}))})),t&&t.addEventListener("click",(()=>{document.querySelectorAll(".zoom-fullscreen").forEach((e=>{e.classList.remove("zoom-fullscreen"),o(e)})),document.body.classList.remove("active")}));document.querySelectorAll(".image-gallery").forEach((e=>{const t=e.querySelectorAll("img");let n=0,o=null;function s(e){t.forEach(((t,n)=>{t.style.display=n===e?"block":"none"}))}o=setInterval((function(){n=(n+1)%t.length,s(n)}),2e3),s(n)}))}));