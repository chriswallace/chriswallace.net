function fadeInElements(){let e=0;const t=document.querySelectorAll(".fade-in-element:not(.visible),.art-collection .media-wrapper:not(.visible),.art-collection h3:not(.visible),.art-collection h4:not(.visible)");!function(e,t=66){if(!e||"function"!=typeof e)return;let n;window.addEventListener("scroll",(function(i){window.clearTimeout(n),n=setTimeout(e,t)}),!1)}((function(){e=0}));const n=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const i=50*e;((e,t)=>{setTimeout((()=>{e.classList.add("visible"),e.addEventListener("transitionend",(()=>{e.classList.remove("fade-in-element")}))}),t)})(t.target,i),n.unobserve(t.target),e++}}))}));t.forEach((e=>n.observe(e)))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("menu-button"),t=document.getElementById("navigation-items");e.addEventListener("click",(()=>{document.body.classList.toggle("open-menu")})),document.addEventListener("click",(n=>{e.contains(n.target)||t.contains(n.target)||document.body.classList.contains("open-menu")&&document.body.classList.remove("open-menu")}))})),document.addEventListener("DOMContentLoaded",fadeInElements),document.addEventListener("DOMContentLoaded",(()=>{const e="http://www.w3.org/2000/svg";let t,n,i=[];function s(){t=document.createElementNS(e,"svg"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("viewBox","0 0 800 800"),n=document.getElementById("visualization-canvas"),t.setAttribute("height",n.clientHeight),n.appendChild(t);const s=document.createElementNS(e,"defs");t.appendChild(s);const o=document.createElementNS(e,"filter");o.setAttribute("id","dropShadowLight");const r=document.createElementNS(e,"feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("stdDeviation","2"),o.appendChild(r);const d=document.createElementNS(e,"feOffset");d.setAttribute("dx","2"),d.setAttribute("dy","4"),o.appendChild(d);const c=document.createElementNS(e,"feComponentTransfer"),a=document.createElementNS(e,"feFuncA");a.setAttribute("type","linear"),a.setAttribute("slope","0.1"),c.appendChild(a),o.appendChild(c);const l=document.createElementNS(e,"feMerge"),u=document.createElementNS(e,"feMergeNode");o.appendChild(l),l.appendChild(u);const m=document.createElementNS(e,"feMergeNode");m.setAttribute("in","SourceGraphic"),l.appendChild(m),s.appendChild(o);const p=document.createElementNS(e,"filter");p.setAttribute("id","dropShadowDark");const h=document.createElementNS(e,"feGaussianBlur");h.setAttribute("in","SourceAlpha"),h.setAttribute("stdDeviation","5"),p.appendChild(h);const f=document.createElementNS(e,"feOffset");f.setAttribute("dx","5"),f.setAttribute("dy","10"),p.appendChild(f);const b=document.createElementNS(e,"feComponentTransfer"),g=document.createElementNS(e,"feFuncA");g.setAttribute("type","linear"),g.setAttribute("slope","0.2"),b.appendChild(g),p.appendChild(b);const y=document.createElementNS(e,"feMerge"),A=document.createElementNS(e,"feMergeNode");p.appendChild(y),y.appendChild(A);const v=document.createElementNS(e,"feMergeNode");v.setAttribute("in","SourceGraphic"),y.appendChild(v),s.appendChild(p),i=[];const w=document.createElementNS(e,"circle");w.setAttribute("cx",0),w.setAttribute("cy",0),w.setAttribute("r","60"),w.setAttribute("fill","rgb(214,65,105)"),w.setAttribute("filter","url(#dropShadowLight)"),t.appendChild(w),i.push(w);const E=document.createElementNS(e,"rect");E.setAttribute("x",-60),E.setAttribute("y",-60),E.setAttribute("width","120"),E.setAttribute("height","120"),E.setAttribute("rx","5"),E.setAttribute("ry","5"),E.setAttribute("fill","rgb(56,163,208)"),E.setAttribute("filter","url(#dropShadowLight)"),t.appendChild(E),i.push(E);const S=document.createElementNS(e,"polygon"),x=Math.sqrt(3)/2*200,$=-1/3*x-20,L=2/3*x-20,C=2/3*x-20;S.setAttribute("points",`0,${$} -100,${L} 100,${C}`),S.setAttribute("fill","rgb(125,53,202)"),S.setAttribute("rx","3"),S.setAttribute("ry","3"),S.setAttribute("filter","url(#dropShadowLight)"),t.appendChild(S),i.push(S)}let o=null;const r=400,d=400,c=180,a=180,l=2e-4;function u(e){o||(o=e);const n=e-o,s=i.map(((e,t)=>{const s=n*l-2*t*Math.PI/i.length,o=r+c*Math.cos(s),u=d+c*Math.sin(s)*.7,m=a*Math.sin(s),p=1+m/400,h=e===i[2]?.8+m/800:1+m/800,f=e===i[0]?0:.02*n;return e.setAttribute("transform",`translate(${o}, ${u}) scale(${p*h}) rotate(${f})`),{shape:e,z:m}}));s.sort(((e,t)=>e.z-t.z)),s.forEach((({shape:e})=>{t.appendChild(e)})),requestAnimationFrame(u)}s(),requestAnimationFrame(u);const m=window.matchMedia("(prefers-color-scheme: dark)");function p(){const e=m.matches?"dropShadowDark":"dropShadowLight";i.forEach((t=>{t.setAttribute("filter",`url(#${e})`)}))}m.addEventListener("change",p),p(),window.addEventListener("resize",(function(){t&&n.removeChild(t),s(),o=null,requestAnimationFrame(u)}))}));const imgObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;replaceImageWithVideo(n),setSrcSetAndSizes(n),t.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),replaceImageWithVideo=e=>{const t=e.getAttribute("data-video");if(t){const n=document.createElement("video");n.src=t,n.style.objectFit="cover",n.setAttribute("playsinline",""),n.setAttribute("muted",""),n.playbackRate=1,n.addEventListener("ended",(()=>n.pause()));const i=e.closest(".media-wrapper");i&&(e.replaceWith(n),i.addEventListener("transitionend",(()=>{n.play()})))}},setSrcSetAndSizes=e=>{const t=e.clientWidth,n="https://ik.imagekit.io/UltraDAO/wallace/",i=e.src.split("/").pop().split("?")[0],s=e.getAttribute("data-max-width");if(s&&s<=t)e.src=`${n}${i}?tr=q-70`;else{let o=t,r=2*t,d=3*t,c=4*t;s&&(o=Math.min(s,o),r=Math.min(s,r),d=Math.min(s,d),c=Math.min(s,c));const a=`${n}${i}?tr=w-${o},q-70 1x,\n                            ${n}${i}?tr=w-${r},q-70 2x,\n                            ${n}${i}?tr=w-${d},q-70 3x`,l=`(max-width: 400px) ${o}px,\n                        (max-width: 800px) ${r}px,\n                        (max-width: 1200px) ${d}px,\n                        ${c}px`;e.src=`${n}${i}?tr=w-${o},q-70`,e.srcset=a,e.sizes=l}e.classList.add("loaded")},cardObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;setBackground(n),t.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),setBackground=e=>{const t=e.clientWidth,n=window.devicePixelRatio||1,i=e.style.backgroundImage,[s,o]=i.slice(5,-2).split("?"),r=`${s}?tr=w-${Math.round(t*n)},q-70`;e.style.backgroundImage=`url("${r}")`,e.classList.add("loaded")};document.querySelectorAll(".bg-image-card").forEach((e=>{cardObserver.observe(e)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".zoomable");let t=null,n={};function i(e){const t=n[e];e.style.transition="all 0.3s ease",e.style.top=`${t.top}px`,e.style.left=`${t.left}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform="none",setTimeout((()=>{e.classList.remove("zoom-fullscreen"),e.style.zIndex="1",e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.height="",e.style.transform="",document.body.style.overflow=""}),300)}e.forEach((e=>{e.addEventListener("click",(function(){const s=e.classList.contains("zoom-fullscreen"),o=e.getAttribute("data-type");s?(t.classList.remove("active"),i(e),"video"===o&&(e.muted=!0)):(t||(t=document.createElement("div"),t.className="page-overlay",document.body.appendChild(t)),t.classList.add("active"),function(e){const t=function(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}}(e);n[e]=t;const i=.9*window.innerWidth,s=.9*window.innerHeight,{width:o,height:r}=function(e,t){const n=4/3;return e/t>n?e=t*n:t=e/n,{width:e,height:t}}(i,s);e.style.position="fixed",e.style.top=`${t.top}px`,e.style.left=`${t.left}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.zIndex="9999",requestAnimationFrame((()=>{e.classList.add("zoom-fullscreen"),e.style.top="50%",e.style.left="50%",e.style.width=`${o}px`,e.style.height=`${r}px`,e.style.transform="translate(-50%, -50%)"}))}(e),document.body.style.overflow="hidden","video"===o&&(e.muted=!1,e.play()))}))})),t&&t.addEventListener("click",(()=>{document.querySelectorAll(".zoom-fullscreen").forEach((e=>{e.classList.remove("zoom-fullscreen"),i(e)})),t.classList.remove("active")}));document.querySelectorAll(".image-gallery").forEach((e=>{const t=e.querySelectorAll("img");let n=0,i=null;function s(e){t.forEach(((t,n)=>{t.style.display=n===e?"block":"none"}))}i=setInterval((function(){n=(n+1)%t.length,s(n)}),2e3),s(n)}))}));