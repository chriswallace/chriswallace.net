function fadeInElements(){let t=0;const e=document.querySelectorAll(".fade-in-element:not(.visible),.art-collection .media-wrapper:not(.visible),.art-collection h3:not(.visible),.art-collection h4:not(.visible)");!function(t,e=66){if(!t||"function"!=typeof t)return;let n;window.addEventListener("scroll",(function(i){window.clearTimeout(n),n=setTimeout(t,e)}),!1)}((function(){t=0}));const n=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const i=50*t;((t,e)=>{setTimeout((()=>{t.classList.add("visible"),t.addEventListener("transitionend",(()=>{t.classList.remove("fade-in-element")}))}),e)})(e.target,i),n.unobserve(e.target),t++}}))}));e.forEach((t=>n.observe(t)))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("menu-button"),e=document.getElementById("navigation-items");t.addEventListener("click",(()=>{document.body.classList.toggle("open-menu")})),document.addEventListener("click",(n=>{t.contains(n.target)||e.contains(n.target)||document.body.classList.contains("open-menu")&&document.body.classList.remove("open-menu")}))})),document.addEventListener("DOMContentLoaded",fadeInElements),document.addEventListener("DOMContentLoaded",(()=>{const t="http://www.w3.org/2000/svg";let e,n,i=[];function s(){e=document.createElementNS(t,"svg"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("viewBox","0 0 800 800"),n=document.getElementById("visualization-canvas"),e.setAttribute("height",n.clientHeight),n.appendChild(e);const s=document.createElementNS(t,"defs");e.appendChild(s);const o=document.createElementNS(t,"filter");o.setAttribute("id","dropShadow");const r=document.createElementNS(t,"feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("stdDeviation","5"),o.appendChild(r);const l=document.createElementNS(t,"feOffset");l.setAttribute("dx","5"),l.setAttribute("dy","10"),o.appendChild(l);const c=document.createElementNS(t,"feComponentTransfer"),a=document.createElementNS(t,"feFuncA");a.setAttribute("type","linear"),a.setAttribute("slope","0.2"),c.appendChild(a),o.appendChild(c);const d=document.createElementNS(t,"feMerge"),u=document.createElementNS(t,"feMergeNode");o.appendChild(d),d.appendChild(u);const m=document.createElementNS(t,"feMergeNode");m.setAttribute("in","SourceGraphic"),d.appendChild(m),s.appendChild(o),i=[];const p=document.createElementNS(t,"circle");p.setAttribute("cx",0),p.setAttribute("cy",0),p.setAttribute("r","60"),p.setAttribute("fill","rgb(218,77,79)"),p.setAttribute("filter","url(#dropShadow)"),e.appendChild(p),i.push(p);const h=document.createElementNS(t,"rect");h.setAttribute("x",-60),h.setAttribute("y",-60),h.setAttribute("width","120"),h.setAttribute("height","120"),h.setAttribute("rx","5"),h.setAttribute("ry","5"),h.setAttribute("fill","rgb(118,67,211)"),h.setAttribute("filter","url(#dropShadow)"),e.appendChild(h),i.push(h);const f=document.createElementNS(t,"polygon"),b=Math.sqrt(3)/2*200,g=-1/3*b-20,y=2/3*b-20,v=2/3*b-20;f.setAttribute("points",`0,${g} -100,${y} 100,${v}`),f.setAttribute("fill","rgb(85,78,210)"),f.setAttribute("rx","3"),f.setAttribute("ry","3"),f.setAttribute("filter","url(#dropShadow)"),e.appendChild(f),i.push(f)}let o=null;const r=400,l=400,c=180,a=180,d=2e-4;function u(t){o||(o=t);const n=t-o,s=i.map(((t,e)=>{const s=n*d+2*e*Math.PI/i.length,o=r+c*Math.cos(s),u=l+c*Math.sin(s)*.5,m=a*Math.sin(s),p=1+m/400,h=t===i[2]?.8+m/800:1+m/800,f=t===i[0]?0:.02*n;return t.setAttribute("transform",`translate(${o}, ${u}) scale(${p*h}) rotate(${f})`),{shape:t,z:m}}));s.sort(((t,e)=>t.z-e.z)),s.forEach((({shape:t})=>{e.appendChild(t)})),requestAnimationFrame(u)}s(),requestAnimationFrame(u),window.addEventListener("resize",(function(){e&&n.removeChild(e),s(),o=null,requestAnimationFrame(u)}))}));const imgObserver=new IntersectionObserver(((t,e)=>{t.forEach((t=>{if(t.isIntersecting){const n=t.target;replaceImageWithVideo(n),setSrcSetAndSizes(n),e.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),replaceImageWithVideo=t=>{const e=t.getAttribute("data-video");if(e){const n=document.createElement("video");n.src=e,n.style.objectFit="cover",n.setAttribute("playsinline",""),n.setAttribute("muted",""),n.playbackRate=1,n.addEventListener("ended",(()=>n.pause()));const i=t.closest(".media-wrapper");i&&(t.replaceWith(n),i.addEventListener("transitionend",(()=>{n.play()})))}},setSrcSetAndSizes=t=>{const e=t.clientWidth,n="https://ik.imagekit.io/UltraDAO/wallace/",i=t.src.split("/").pop().split("?")[0],s=t.getAttribute("data-max-width");if(s&&s<=e)t.src=`${n}${i}?tr=q-70`;else{let o=e,r=2*e,l=3*e,c=4*e;s&&(o=Math.min(s,o),r=Math.min(s,r),l=Math.min(s,l),c=Math.min(s,c));const a=`${n}${i}?tr=w-${o},q-70 1x,\n                            ${n}${i}?tr=w-${r},q-70 2x,\n                            ${n}${i}?tr=w-${l},q-70 3x`,d=`(max-width: 400px) ${o}px,\n                        (max-width: 800px) ${r}px,\n                        (max-width: 1200px) ${l}px,\n                        ${c}px`;t.src=`${n}${i}?tr=w-${o},q-70`,t.srcset=a,t.sizes=d}t.classList.add("loaded")},cardObserver=new IntersectionObserver(((t,e)=>{t.forEach((t=>{if(t.isIntersecting){const n=t.target;setBackground(n),e.unobserve(n)}}))}),{rootMargin:"0px 0px 200px 0px"}),setBackground=t=>{const e=t.clientWidth,n=window.devicePixelRatio||1,i=t.style.backgroundImage,[s,o]=i.slice(5,-2).split("?"),r=`${s}?tr=w-${Math.round(e*n)},q-70`;t.style.backgroundImage=`url("${r}")`,t.classList.add("loaded")};document.querySelectorAll(".bg-image-card").forEach((t=>{cardObserver.observe(t)})),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".zoomable");let e=null,n={};function i(t){const e=n[t];t.style.transition="all 0.3s ease",t.style.top=`${e.top}px`,t.style.left=`${e.left}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform="none",setTimeout((()=>{t.classList.remove("zoom-fullscreen"),t.style.zIndex="1",t.style.position="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.transform="",document.body.style.overflow=""}),300)}t.forEach((t=>{t.addEventListener("click",(function(){const s=t.classList.contains("zoom-fullscreen"),o=t.getAttribute("data-type");s?(e.classList.remove("active"),i(t),"video"===o&&(t.muted=!0)):(e||(e=document.createElement("div"),e.className="page-overlay",document.body.appendChild(e)),e.classList.add("active"),function(t){const e=function(t){const e=t.getBoundingClientRect();return{left:e.left,top:e.top,width:e.width,height:e.height}}(t);n[t]=e;const i=.9*window.innerWidth,s=.9*window.innerHeight,{width:o,height:r}=function(t,e){const n=4/3;return t/e>n?t=e*n:e=t/n,{width:t,height:e}}(i,s);t.style.position="fixed",t.style.top=`${e.top}px`,t.style.left=`${e.left}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.zIndex="9999",requestAnimationFrame((()=>{t.classList.add("zoom-fullscreen"),t.style.top="50%",t.style.left="50%",t.style.width=`${o}px`,t.style.height=`${r}px`,t.style.transform="translate(-50%, -50%)"}))}(t),document.body.style.overflow="hidden","video"===o&&(t.muted=!1,t.play()))}))})),e&&e.addEventListener("click",(()=>{document.querySelectorAll(".zoom-fullscreen").forEach((t=>{t.classList.remove("zoom-fullscreen"),i(t)})),e.classList.remove("active")}));document.querySelectorAll(".image-gallery").forEach((t=>{const e=t.querySelectorAll("img");let n=0,i=null;function s(t){e.forEach(((e,n)=>{e.style.display=n===t?"block":"none"}))}i=setInterval((function(){n=(n+1)%e.length,s(n)}),2e3),s(n)}))}));