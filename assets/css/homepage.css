/* ============================================
   HOMEPAGE STYLES - Fractional Design Leader
   ============================================ */

/* Base Layout */
.home {
  @apply overflow-x-hidden;
}

/* Ensure all sections appear above ASCII background */
.home section {
  @apply relative;
  z-index: 1;
  scroll-margin-top: 0;
}

/* Scroll Progress Bar */
.scroll-progress {
  @apply w-full;
}

.home .ui-navbar {
  @apply fixed top-0 left-0 right-0 z-50;
}

/* ============================================
   HERO SECTION
   ============================================ */
.hero-section {
  @apply min-h-screen flex flex-col gap-12 relative w-[calc(100%-32px)] md:w-[calc(100%-48px)] max-w-full mx-auto justify-between;
  /* Background inherits from body */
}

.hero-navbar-buffer {
  @apply absolute top-0 left-0 right-0 h-20;
  /* Buffer space for navbar */
}

.hero-content {
  @apply relative z-10;
}

.hero-section > * {
  @apply relative z-10;
}

/* Tall WALLACE decorative logo - flows freely down the page behind all content */
.hero-wallace-logo {
  @apply absolute right-0 top-0 w-auto z-0 pointer-events-none object-contain object-right opacity-0 max-w-[30%] min-w-[200px];
  height: 125vh;
}

@media (max-width: 1024px) {
  .hero-wallace-logo {
    max-width: 25%;
    min-width: 150px;
  }
  
  .hero-wallace-logo.visible {
    opacity: 0.1;
  }
}

@media (max-width: 768px) {
  .hero-wallace-logo {
    max-width: 20%;
    min-width: 100px;
  }
  
  .hero-wallace-logo.visible {
    opacity: 0.08;
  }
}

.hero-wallace-logo.visible {
  opacity: 0.15;
  filter: blur(0px);
}

.hero-title {
  @apply text-primary-800 text-display mb-4;
  max-width: 1000px;
  font-variation-settings: "wght" 100, "wdth" 500;
  line-height: 1.1;
  /* Ensure consistent two-line layout */
  display: block;
  min-height: 2em; /* Reserve space for two lines */
}

/* Ensure Splitting.js character elements can be animated independently */
.hero-title .char {
  display: inline-block;
  font-variation-settings: inherit;
  /* Prevent layout shift when characters shrink */
  vertical-align: baseline;
}

/* Ensure words maintain their position */
.hero-title .word {
  display: inline-block;
  white-space: nowrap;
}

.hero-description {
  @apply text-muted max-w-xl mb-12;
}

.hero-buttons {
  @apply flex flex-wrap gap-4 md:flex-row;
}

@media (max-width: 768px) {
  .hero-buttons {
    @apply flex-col w-full;
  }
}

/* ============================================
   CREDIBILITY SECTION
   ============================================ */

.credibility-content {
  @apply w-full flex flex-col items-start 2xl:items-center gap-4 sm:gap-8 lg:gap-24 2xl:gap-48 md:flex-row md:items-center py-24 lg:py-8;
  justify-content: space-between;
}

.credibility-text-wrapper {
  @apply shrink-0;
}

.credibility-text {
  @apply text-body text-gray-700 mb-0;
}

.credibility-logos {
  @apply grid grid-cols-3 lg:flex lg:flex-nowrap lg:items-center lg:justify-between gap-1.5 sm:gap-2 md:gap-6 lg:gap-0 w-full max-w-5xl lg:mr-8;
}

.credibility-logo-item {
  @apply flex items-center justify-center bg-white rounded-lg p-8 aspect-square min-h-[80px] md:bg-transparent md:rounded-none md:p-0 md:aspect-auto md:min-h-0 md:flex-shrink-0;
}

.credibility-logo {
  @apply w-full md:w-auto h-auto max-h-40 md:max-h-[44px] max-w-[100px];
}

/* ============================================
   PROFILE & STARTUP PLIGHT SECTION (MERGED)
   ============================================ */
.profile-startup-section {
  @apply min-h-[60svh] lg:min-h-screen flex flex-col justify-center items-start border-y border-[rgba(0,0,0,0.08)];
}

.profile-startup-content {
  @apply w-[calc(100%-32px)] md:w-[calc(100%-48px)] max-w-full mx-auto md:grid md:grid-cols-[minmax(150px,220px)_minmax(0,680px)] md:gap-[clamp(2rem,4vw,4rem)] md:items-start md:max-w-full md:justify-center;
  max-width: fit-content;
  justify-items: center;
}

/* Image Column - Sticky only on two-column layout */
.profile-startup-image-wrapper {
  @apply float-right md:float-none md:block self-start h-fit justify-self-start md:top-[120px] md:self-start md:h-fit;
}

.profile-startup-image {
  @apply w-[140px] ml-3 md:ml-0 md:w-full h-auto object-contain max-h-[340px] md:max-h-none md:object-cover;
}

/* Text Column */
.profile-startup-text-column {
  @apply w-full max-w-[680px] min-w-0;
  /* Allows text to shrink below content size */
}

.profile-title {
  @apply font-heading text-heading mt-0 mb-8 text-primary-800;
}

/* ============================================
   PROBLEM & SOLUTION GRID SECTION
   ============================================ */
.problem-solution-section {
  @apply min-h-screen flex flex-col justify-center py-24 lg:py-32 px-6 lg:px-16 relative;
  background-image: url("https://ik.imagekit.io/UltraDAO/chriswallace.net/homepage/hero-bg-desktop.svg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.problem-solution-content {
  @apply mx-auto max-w-[88em];
}

.problem-solution-item {
  @apply block mb-0;
}

.problem-item {
  @apply pr-0 lg:pr-8;
}

.solution-item {
  @apply p-10 mb-0 bg-white rounded-t-xl md:rounded-r-none md:rounded-l-xl;
}

.practice {
  @apply p-10 mt-0 bg-gray-50 rounded-b-xl md:rounded-b-none md:rounded-r-xl;
}

.practice-intro {
  @apply font-semibold text-subheading mb-6 text-primary-700;
}

.practice-item {
  @apply text-primary-800;
}

.practice-list-container {
  @apply list-none pl-0 mb-8;
}

/* Text directly on dark background - inverted colors */
.problem-item .problem-solution-label {
  @apply font-sans font-bold text-body tracking-wider mb-4 block uppercase;
  color: var(--color-green-bright);
  letter-spacing: 0.05em;
}

.problem-item .problem-solution-title {
  @apply text-heading-sm font-normal mt-0 mb-8;
  color: var(--color-text-heading-dark);
}

.problem-item .problem-solution-subtitle {
  @apply font-semibold text-subheading mt-0 mb-6;
  color: var(--color-text-subheading-dark);
}

.problem-item .problem-solution-closing {
  @apply font-semibold mt-8 mb-0;
  color: var(--color-text-heading-dark);
}

.problem-item .problem-solution-description {
  color: var(--color-text-body-dark);
}

.problem-item .problem-solution-description p {
  @apply mb-6;
  color: var(--color-text-body-dark);
}

.problem-item .problem-solution-description p:last-child {
  @apply mb-0;
}

.problem-item ul li {
  color: var(--color-text-body-dark);
}

.problem-item ul li::before {
  color: var(--color-text-body-dark);
}

.problem-item .text-muted {
  color: var(--color-text-subheading-dark);
}

/* Text in cards - light background colors */
.solution-item .problem-solution-label,
.practice .problem-solution-label {
  @apply font-sans font-bold text-body tracking-wider mb-4 block uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-subheading-light);
}

.solution-item .problem-solution-title,
.practice .problem-solution-title {
  @apply text-heading-sm font-normal mt-0 mb-8;
  color: var(--color-text-heading-light);
}

.solution-item .problem-solution-subtitle,
.practice .problem-solution-subtitle {
  @apply font-semibold text-subheading mt-0 mb-6;
  color: var(--color-text-subheading-light);
}

.solution-item .problem-solution-closing,
.practice .problem-solution-closing {
  @apply font-semibold mt-8 mb-0;
  color: var(--color-text-heading-light);
}

.solution-item .problem-solution-description,
.practice .problem-solution-description {
  color: var(--color-text-body-light);
}

.solution-item .problem-solution-description p,
.practice .problem-solution-description p {
  @apply mb-6;
  color: var(--color-text-body-light);
}

.solution-item .problem-solution-description p:last-child,
.practice .problem-solution-description p:last-child {
  @apply mb-0;
}

.problem-solution-list {
  @apply border-b pb-12;
  border-color: rgba(255, 255, 255, 0.2);
  color: var(--color-text-body-dark);
}

.problem-solution-list li {
  color: var(--color-text-body-dark);
}

/* ============================================
   WORK SECTION
   ============================================ */
.work-section {
  @apply py-24 lg:py-32 px-6 lg:px-32;
  background: var(--section-work);
}

.work-header {
  @apply text-center mb-16;
}

.work-title {
  @apply font-heading font-normal text-center uppercase mt-0 text-primary-800;
  font-variation-settings: "wght" 400, "wdth" 300;
}

@media (min-width: 640px) {
  .work-title {
    font-variation-settings: "wght" 400, "wdth" 500;
  }
}

@media (min-width: 1024px) {
  .work-title {
    font-variation-settings: "wght" 400, "wdth" 800;
  }
}

.work-description {
  @apply mb-4;
}

.work-grid {
  @apply grid grid-cols-1 md:grid-cols-2 mx-auto gap-4 gap-y-16;
  max-width: 1120px; /* 544 * 2 + 32 */
}

.work-item {
  @apply block no-underline;
  /* GSAP handles the initial opacity and animation */
}

.work-item-full-width {
  @apply col-span-full;
}

.work-image {
  @apply w-full aspect-[544/380] object-cover rounded-3xl mb-4 transition-[transform,box-shadow] duration-150 ease-out;
}

.work-results {
  @apply mb-6 text-base text-[#999];
  font-variation-settings: "wght" 600, "wdth" 300;
}

/* ============================================
   TESTIMONIALS SECTION
   ============================================ */
.testimonials-section {
  @apply py-32 px-6 lg:px-48 mt-0;
  background: var(--section-testimonials);
}

.testimonials-header {
  @apply text-center mb-16;
}

.testimonials-title {
  @apply font-heading font-normal text-center uppercase flex-none flex-grow-0 mt-0 text-primary-800;
  font-variation-settings: "wght" 400, "wdth" 300;
}

@media (min-width: 640px) {
  .testimonials-title {
    font-variation-settings: "wght" 400, "wdth" 500;
  }
}

@media (min-width: 1024px) {
  .testimonials-title {
    font-variation-settings: "wght" 400, "wdth" 800;
  }
}

.testimonials-grid {
  @apply grid grid-cols-1 gap-24 w-full max-w-7xl mx-auto;
}

.testimonial-card {
  @apply flex flex-col max-w-[600px];
  /* Stagger animation handles opacity */
}

/* Alternate left/right alignment */
.testimonial-card:nth-child(odd) {
  @apply mr-auto ml-0;
}

.testimonial-card:nth-child(even) {
  @apply ml-auto mr-0;
}

/* Staggered animation delays for grid items */
.testimonials-grid.stagger-children > .testimonial-card:nth-child(1) {
  transition-delay: 0.1s;
}

.testimonials-grid.stagger-children > .testimonial-card:nth-child(2) {
  transition-delay: 0.2s;
}

.testimonials-grid.stagger-children > .testimonial-card:nth-child(3) {
  transition-delay: 0.3s;
}

.testimonials-grid.stagger-children > .testimonial-card:nth-child(4) {
  transition-delay: 0.4s;
}

.testimonials-grid.stagger-children > .testimonial-card:nth-child(5) {
  transition-delay: 0.5s;
}

.testimonials-grid.stagger-children > .testimonial-card:nth-child(6) {
  transition-delay: 0.6s;
}

.testimonial-text {
  @apply text-subheading font-heading font-normal mb-2 text-[#1D1D1D];
  font-variation-settings: "wght" 400, "wdth" 250;
}

.testimonial-author {
  @apply text-body font-normal mt-6 text-muted;
  /* De-emphasized dark gray */
}

/* ============================================
   APPROACH SECTION
   ============================================ */
.approach-section {
  @apply py-24 lg:py-32 px-6 lg:px-32 relative overflow-hidden;
  background: var(--section-approach);
  min-height: 100vh;
}

.approach-section::before {
  content: "";
  @apply absolute inset-0 z-0 bg-cover bg-center bg-no-repeat pointer-events-none;
  background-image: url("https://ik.imagekit.io/UltraDAO/chriswallace.net/homepage/approach-bg-large.svg");
  opacity: 1;
}

@media (max-width: 768px) {
  .approach-section::before {
    background-image: url("https://ik.imagekit.io/UltraDAO/chriswallace.net/homepage/approach-bg-small.svg");
  }
}

.approach-section > * {
  @apply relative z-10;
}

.approach-title {
  @apply font-heading font-normal text-heading tracking-wider mb-0 block uppercase text-left;
  font-variation-settings: "wght" 400, "wdth" 300;
  color: var(--color-text-heading-dark);
}

@media (min-width: 640px) {
  .approach-title {
    font-variation-settings: "wght" 400, "wdth" 500;
  }
}

@media (min-width: 1024px) {
  .approach-title {
    font-variation-settings: "wght" 400, "wdth" 800;
  }
}

.approach-circle {
  @apply relative w-full mx-auto flex items-center justify-center mb-12 max-w-[1806px];
  aspect-ratio: 0.7375;
}

.circular-text {
  @apply absolute inset-0 w-full h-full object-contain;
  pointer-events: none;
}

.circular-text-desktop {
  @apply hidden md:block;
}

.circular-text-mobile {
  @apply block md:hidden md:w-full md:h-auto;
}

@media (max-width: 768px) {
  .approach-circle {
    display: flex;
    max-width: 100%;
    aspect-ratio: 364/1567;
  }

  .process-cards {
    @apply absolute inset-0;
  }

  .process-card {
    position: absolute;
    padding: 12px;
    margin-bottom: 0;
  }

  .process-card:nth-child(1) {
    left: -8% !important;
    top: 2% !important;
    transform: rotate(-8deg) scale(0.8) !important;
  }

  .process-card:nth-child(2) {
    left: 4% !important;
    top: 21% !important;
    transform: rotate(5deg) scale(0.8) !important;
  }

  .process-card:nth-child(3) {
    left: 33% !important;
    top: 51% !important;
    transform: rotate(-5deg) scale(0.8) !important;
  }

  .process-card:nth-child(4) {
    left: 26% !important;
    top: 73% !important;
    transform: rotate(8deg) scale(0.8) !important;
  }

  .process-description {
    letter-spacing: -0.24px;
  }
}

.process-cards {
  @apply absolute inset-0 flex items-center justify-center;
}

.process-card {
  @apply absolute rounded-xl flex flex-col justify-between bg-[#101410] aspect-[3/4] p-6 max-w-[240px];
}

/* Large screen adjustments for process cards */
@media (min-width: 1500px) {
  .process-card {
    max-width: 280px;
    padding: 28px;
  }

  .process-card:nth-child(1) {
    left: 16%;
    top: 22%;
  }

  .process-card:nth-child(2) {
    left: 52%;
    top: 26%;
  }

  .process-card:nth-child(3) {
    left: 32%;
    top: 67%;
  }

  .process-card:nth-child(4) {
    left: 66%;
    top: 75%;
  }
}

/* Card sizes and positions based on Figma coordinates */
/* Container: 1806px Ã— 2448px */
.process-card:nth-child(1) {
  left: 9%;
  top: 17%;
  transform: rotate(-8deg);
}

.process-card:nth-child(2) {
  left: 40%;
  top: 20%;
  transform: rotate(5deg);
}

.process-card:nth-child(3) {
  left: 26.87%;
  top: 67.43%;
  transform: rotate(-5deg);
}

.process-card:nth-child(4) {
  left: 61.52%;
  top: 75.81%;
  transform: rotate(8deg);
}

.process-number {
  @apply font-mono block text-accent text-body m-0;
}

.process-description {
  @apply font-medium m-0;
  letter-spacing: -0.54px;
  color: var(--color-text-body-dark);
}

.engagements {
  @apply mt-24 max-w-5xl mx-auto;
}

.engagements-title {
  @apply font-heading font-bold mb-8 text-left uppercase text-subheading;
  font-variation-settings: "wght" 700, "wdth" 400;
  color: var(--color-text-subheading-dark);
}

.engagements-grid {
  @apply grid grid-cols-1 md:grid-cols-3 gap-8;
}

.engagement-column h4 {
  @apply font-sans font-semibold text-body mb-4;
  color: var(--color-text-subheading-dark);
}

.engagement-column ul {
  @apply space-y-0 list-none p-0 m-0;
  color: var(--color-text-body-dark);
}

.engagement-column li {
  @apply mb-0;
  color: var(--color-text-body-dark);
}

.engagement-column li::before {
  color: var(--color-text-body-dark);
}

.engagement-item-mobile-only {
  @apply hidden md:list-item;
}

/* ============================================
   FOOTER SECTION
   ============================================ */
.footer-section {
  @apply relative overflow-hidden bg-secondary-600 pt-[74px] bg-cover bg-center bg-no-repeat;
  background-image: url("https://ik.imagekit.io/UltraDAO/chriswallace.net/homepage/footer-bg-large.svg");
}

@media (max-width: 768px) {
  .footer-section {
    background-image: url("https://ik.imagekit.io/UltraDAO/chriswallace.net/homepage/footer-bg-small.svg");
  }
}

.logo-clip{
  @apply md:overflow-hidden md:aspect-[1806/248];
}

.footer-wallace-logo {
  @apply opacity-50 object-cover object-center h-full;
}

.footer-section > .footer-content {
  @apply relative z-10;
}

.footer-content {
  @apply max-w-6xl w-[calc(100%-32px)] mx-auto;
}

.footer-bottom {
  @apply flex flex-col lg:flex-row lg:items-center justify-between gap-4 pt-4 pb-[39px] mt-6;
  border-top: 1px solid rgba(0,0,0,0.05);
}

.footer-copyright {
  @apply mb-0 text-muted;
  font-size: 0.875rem; /* 14px - smaller than body text */
}

.footer-links {
  @apply flex gap-4;
}

.footer-link {
  @apply font-heading font-medium no-underline text-secondary;
  font-size: 1.3rem; /* 13px - smaller for social links */
  font-variation-settings: "wght" 500, "wdth" 300;
  letter-spacing: -0.015em;
  transition: opacity 0.2s ease;
}

@media (min-width: 640px) {
  .footer-link {
    font-variation-settings: "wght" 500, "wdth" 500;
  }
}

@media (min-width: 1024px) {
  .footer-link {
    font-variation-settings: "wght" 500, "wdth" 800;
  }
}

.footer-link:hover {
  @apply no-underline opacity-70;
}

/* Mobile footer adjustments */
@media (max-width: 768px) {
  .footer-section {
    @apply relative;
    padding: 48px 24px 0;
  }
}

/* ============================================
   SCROLL ANIMATIONS - Fast Blur-In Method
   ============================================ */
.reveal {
  opacity: 0;
  filter: blur(10px);
  transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), filter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal.visible {
  opacity: 1;
  filter: blur(0px);
}

.reveal-delay-1 {
  transition-delay: 0.1s;
}
.reveal-delay-2 {
  transition-delay: 0.2s;
}
.reveal-delay-3 {
  transition-delay: 0.3s;
}
.reveal-delay-4 {
  transition-delay: 0.4s;
}
.reveal-delay-5 {
  transition-delay: 0.5s;
}

/* Stagger children animations - fast blur-in */
.stagger-children > * {
  opacity: 0;
  filter: blur(10px);
  transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), filter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Work items - fast blur-in */
.work-item {
  opacity: 0;
  filter: blur(10px);
  transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), filter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.work-item.visible {
  opacity: 1;
  filter: blur(0px);
}

/* When stagger container becomes visible, blur-in children with delay */
.stagger-children.visible > *:nth-child(1) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.05s;
}
.stagger-children.visible > *:nth-child(2) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.1s;
}
.stagger-children.visible > *:nth-child(3) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.15s;
}
.stagger-children.visible > *:nth-child(4) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.2s;
}
.stagger-children.visible > *:nth-child(5) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.25s;
}
.stagger-children.visible > *:nth-child(6) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.3s;
}
.stagger-children.visible > *:nth-child(n+7) {
  opacity: 1;
  filter: blur(0px);
  transition-delay: 0.35s;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */

@media (max-width: 768px) {
  .profile-startup-section,
  .work-section,
  .testimonials-section,
  .approach-section,
  .footer-section {
    @apply px-6 py-16;
  }

  .work-grid {
    @apply grid-cols-1 gap-12;
  }

  .engagements-grid {
    @apply grid-cols-1 gap-10;
  }

  .footer-bottom {
    @apply flex-col gap-6;
  }

  .footer-links {
    @apply gap-6;
  }
}
